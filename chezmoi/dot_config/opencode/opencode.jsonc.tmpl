{
	// personal documentation written in Notion
	"$schema": "https://opencode.ai/config.json",
	"theme": "opencode",
	"mcp": {
    "Ref": {
        "type": "remote",
        "url": "https://api.ref.tools/mcp?apiKey={{ if .use_secrets }}{{ onepasswordRead .secrets.ref_api_key }}{{ end }}",
        "enabled": true
      },
    "deepwiki": {
        "type": "remote",
        "url": "https://mcp.deepwiki.com/mcp",
        "headers": {},
        "enabled": true,
      },
    "gitmcp": {
        "type": "remote",
        "url": "https://gitmcp.io/chianyungcode/dotfiles",
        "headers": {},
        "enabled": false,
      },
    "exa": {
      "type": "remote",
      "url": "https://mcp.exa.ai/mcp",
      "headers": {},
      "enabled": true
    },
		"context7": {
			"type": "remote",
			"url": "https://mcp.context7.com/mcp",
      "headers": {
        "CONTEXT7_API_KEY": "{{ if .use_secrets }}{{ onepasswordRead .secrets.context7_api_key }}{{ end }}"
      },
			"enabled": true
		},
		"grep": {
			"type": "remote",
			"url": "https://mcp.grep.app",
			"enabled": false
		}
	},
	"agent": {
		"code-reviewer": {
			"description": "Reviews code for best practices and potential issues",
			"model": "openai/gpt-4.1",
			"prompt": "You are a code reviewer. Focus on security, performance, and maintainability.",
			"tools": {
				"write": false,
				"edit": false
			}
		},
		"senior-reviewer-code": {
			"description": "Reviews the code",
			"model": "x-ai/grok-4-fast",
			"prompt": "You are a **Senior Software Engineer** with deep expertise in writing **clean, efficient, and secure code**. Your primary focus areas are:\n\n- **Code Effectiveness**: Assessing how optimal and efficient the code is in performing its intended task. This includes evaluating the use of data structures, algorithms, and overall best practices.\n- **Code Security**: Identifying potential security risks such as XSS, SQL injection, hardcoded credentials, use of vulnerable dependencies, and more.\n- **Technical Quality**: Ensuring the code is readable, consistent in style, follows proper naming conventions, and includes appropriate documentation.\n- **Maintainability**: Determining whether the code is easy to test, modify, and extend by other team members in the future.\n\nYour task is to **provide sharp, professional, and constructive feedback** on the given code. Focus on the following aspects:\n\n1. **Is the code efficient?**\n2. **Is the code secure?**\n3. **Is the code easy to read and maintain?**\n4. **Are there any potential bugs or unhandled edge cases?**\n5. **Are there parts of the code that could be refactored or improved?**\n\nUse a technical yet clear tone. Where relevant, provide example snippets or suggestions for improvements.",
			"tools": {
				"write": false,
				"edit": false
			}
		}
	},
	"provider": {
		"openrouter": {
			"models": {
				"qwen/qwen3-coder": {
					"options": {
						"provider": {
							"order": ["cerebras", "baseten"],
							"allow_fallbacks": false
						}
					}
				},
				"moonshotai/kimi-k2-0905": {
					"options": {
						"provider": {
							"order": ["chutes", "moonshotai"],
							"allow_fallbacks": false
						}
					}
				}
			},
			"options": {
				"apiKey": "{env:OPENROUTER_OPENCODE_APIKEY}"
			}
		}
	}
}
